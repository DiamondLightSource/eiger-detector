<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Eiger Detector</title>

    <!-- Bootstrap -->
    <link href="js/bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">
    <link href="css/tabulator.css" rel="stylesheet">
    <link href="css/eiger.css" rel="stylesheet">

  </head>
  <body style="padding-top: 30px;">
  
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
			<a class="navbar-brand" rel="home" href="" title="Eiger">
	        <img style="max-width:55px; margin-top: -7px;" src="/img/eigerfade.png">
		    </a>
          <div class="navbar-brand">Eiger Detector</div>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="home"><a href="#/home-view"> <span
                        class="glyphicon glyphicon-home"></span> <strong>Home</strong><span
                        class="label"></span></a></li>

                <li class="av navbar-nav"><a href="#/daq-view"
                    class="dropdown-toggle" role="button" aria-expanded="false"> <strong>DAQ</strong>
                </a></li>
            </ul>
        </div>
      </div>
    </nav>

<!-- HOME PAGE -->
	<div class="container-fluid home-view page">
		<div class="row fluid-row">		
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Server Status</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-10">
								<table>
									<tr>
										<td width="150px">API Version:</td>
										<td width="150px"><div id="api-version"></div></td>
										<td width="150px">Adapters Loaded:</td>
										<td width="150px"><div id="api-adapters"></div></td>
									</tr>
									<tr>
										<td>Server Start Time:</td>
										<td><div id="server-start-time"></div></td>
										<td>Server Up Time:</td>
										<td><div id="server-up-time"></div></td>
									</tr>
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-1">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
								<div class="col-xs-10">
									<table>
										<tr>
											<td width="120px">Exposure (s):</td>
											<td width="50px" align="right"><div id="get-exposure"></div></td><td width="10px"></td>
											<td width="50px"><input type="text" id="set-exposure" size="5"></input></td>
											<td width="50px"></td>
											<td width="120px">Trigger Mode:</td>
										</tr>
										<tr>
											<td width="120px">Acq Period (s):</td>
											<td width="50px" align="right"><div id="get-period"></div></td><td width="10px"></td>
											<td width="50px"><input type="text" id="set-period" size="5"></input></td>
										</tr>
										<tr>
											<td width="120px">Num Images:</td>
											<td width="50px" align="right"><div id="get-nimages"></div></td><td width="10px"></td>
											<td width="50px"><input type="text" id="set-nimages" size="5"></input></td>
											<td width="50px"></td>
											<td width="120px">Acquire:<div id="get-acquire"></div></td>
											<td width="50px"></td>
										</tr>
									</table>
								</div>
							</div>
	

<!--							<div id="api-version" class="col-xs-3 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Adapters Loaded:</div>
							
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Start Time:</div>
							<div id="server-start-time" class="col-xs-3 status vertical-align">&nbsp;</div>
							<div class="col-xs-3">Up Time:</div>
							<div id="server-up-time" class="col-xs-3 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Server Username:</div>
							<div id="server-username" class="col-xs-5 status vertical-align">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Hardware Connection:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td>Address:</td><td align="center" id="server-hw-address" width="150px"></td></tr>
									<tr><td>Port:</td><td align="center" id="server-hw-port"></td></tr>
									<tr><td>Connected:</td><td align="center" id="server-hw-connected"></td></tr>
									<tr><td></td><td align="center"><button id="server-hw-reconnect">Reconnect</button></td></tr>
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Database Connection:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td>Address:</td><td align="center" id="server-db-address" width="150px"></td></tr>
									<tr><td>Port:</td><td align="center" id="server-db-port"></td></tr>
									<tr><td>Name:</td><td align="center" id="server-db-name"></td></tr>
									<tr><td>Connected:</td><td align="center" id="server-db-connected"></td></tr>
									<tr><td></td><td align="center"><button id="server-db-reconnect">Reconnect</button></td></tr>
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">Auto-read Monitors (10 Hz):</div>
							<div class="col-xs-5 status vertical-align">
								<span id="server-ar-status"></span>
								<span><button id="server-ar-start">Start</button></span>
								<span><button id="server-ar-stop">Stop</button></span>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-3">&nbsp;</div>
						</div>-->
					</div> <!-- container-fluid -->
				</div> <!--  well sidebar-nav-fixed -->
			</div> <!-- span3 -->
		</div> <!-- row fluid-row -->	
	</div> <!--  container-fluid -->


	<!-- DAQ PAGE -->
	<div class="container-fluid daq-view page">
		<div class="row fluid-row">
			<div class="span3">
				<div class="well sidebar-nav-fixed">
					<div class="container-fluid">
						<div class="row sidebar-title">
							<h3>Data Acquisition</h3>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">DAQ Status:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr>
										<td width="180px"></td>
										<td width="200px" align="center"><H2>FR 1</H2></td>
										<td width="200px" align="center"><H2>FR 2</H2></td>
										<td width="200px" align="center"><H2>FR 3</H2></td>
										<td width="200px" align="center"><H2>FR 4</H2></td>
									</tr>
									<tr>
										<td width="180px">Connected:</td>
										<td width="200px" align="center" id="fr1-connected"></td>
										<td width="200px" align="center" id="fr2-connected"></td>
										<td width="200px" align="center" id="fr3-connected"></td>
										<td width="200px" align="center" id="fr4-connected"></td>
									</tr>
									<tr>
										<td width="180px">Buffer Manager:</td>
										<td width="200px" align="center" id="fr1-buffer-manager"></td>
										<td width="200px" align="center" id="fr2-buffer-manager"></td>
										<td width="200px" align="center" id="fr3-buffer-manager"></td>
										<td width="200px" align="center" id="fr4-buffer-manager"></td>
									</tr>
									<tr>
										<td width="180px">RX Thread:</td>
										<td width="200px" align="center" id="fr1-rx-thread"></td>
										<td width="200px" align="center" id="fr2-rx-thread"></td>
										<td width="200px" align="center" id="fr3-rx-thread"></td>
										<td width="200px" align="center" id="fr4-rx-thread"></td>
									</tr>
									<tr>
										<td width="180px">Decoder:</td>
										<td width="200px" align="center" id="fr1-decoder"></td>
										<td width="200px" align="center" id="fr2-decoder"></td>
										<td width="200px" align="center" id="fr3-decoder"></td>
										<td width="200px" align="center" id="fr4-decoder"></td>
									</tr>
									<tr>
										<td width="180px">IPC:</td>
										<td width="200px" align="center" id="fr1-ipc"></td>
										<td width="200px" align="center" id="fr2-ipc"></td>
										<td width="200px" align="center" id="fr3-ipc"></td>
										<td width="200px" align="center" id="fr4-ipc"></td>
									</tr>
									<tr>
										<td width="180px">Configuration Complete:</td>
										<td width="200px" align="center" id="fr1-config-complete"></td>
										<td width="200px" align="center" id="fr2-config-complete"></td>
										<td width="200px" align="center" id="fr3-config-complete"></td>
										<td width="200px" align="center" id="fr4-config-complete"></td>
									</tr>
									<tr>
										<td>Empty Buffers:</td>
										<td align="center" id="fr1-empty-buffers"></td>
										<td align="center" id="fr2-empty-buffers"></td>
										<td align="center" id="fr3-empty-buffers"></td>
										<td align="center" id="fr4-empty-buffers"></td>
									</tr>
									<tr>
										<td>Frames Received:</td>
										<td align="center" id="fr1-frames-received"></td>
										<td align="center" id="fr2-frames-received"></td>
										<td align="center" id="fr3-frames-received"></td>
										<td align="center" id="fr4-frames-received"></td>
									</tr>
									<tr>
										<td>Frames Timed Out:</td>
										<td align="center" id="fr1-frames-timed-out"></td>
										<td align="center" id="fr2-frames-timed-out"></td>
										<td align="center" id="fr3-frames-timed-out"></td>
										<td align="center" id="fr4-frames-timed-out"></td>
									</tr>
									<tr>
										<td>Frames Released:</td>
										<td align="center" id="fr1-frames-released"></td>
										<td align="center" id="fr2-frames-released"></td>
										<td align="center" id="fr3-frames-released"></td>
										<td align="center" id="fr4-frames-released"></td>
									</tr>
									<tr height="10px"><td></td></tr>
									<tr>
										<td width="180px"></td>
										<td width="200px" align="center"><H2>FP 1</H2></td>
										<td width="200px" align="center"><H2>FP 2</H2></td>
										<td width="200px" align="center"><H2>FP 3</H2></td>
										<td width="200px" align="center"><H2>FP 4</H2></td>
									</tr>
									<tr>
										<td width="180px">Connected:</td>
										<td width="200px" align="center" id="fp1-connected"></td>
										<td width="200px" align="center" id="fp2-connected"></td>
										<td width="200px" align="center" id="fp3-connected"></td>
										<td width="200px" align="center" id="fp4-connected"></td>
									</tr>
									<tr>
										<td width="180px">Shared Memory:</td>
										<td width="200px" align="center" id="fp1-shared-mem"></td>
										<td width="200px" align="center" id="fp2-shared-mem"></td>
										<td width="200px" align="center" id="fp3-shared-mem"></td>
										<td width="200px" align="center" id="fp4-shared-mem"></td>
									</tr>
									<tr>
										<td>Processes</td>
										<td align="center" id="fp1-hdf-processes"></td>
										<td align="center" id="fp2-hdf-processes"></td>
										<td align="center" id="fp3-hdf-processes"></td>
										<td align="center" id="fp4-hdf-processes"></td>
									</tr>
									<tr>
										<td>Rank</td>
										<td align="center" id="fp1-hdf-rank"></td>
										<td align="center" id="fp2-hdf-rank"></td>
										<td align="center" id="fp3-hdf-rank"></td>
										<td align="center" id="fp4-hdf-rank"></td>
									</tr>
									<tr>
										<td>File</td>
										<td align="center" id="fp1-hdf-file-path"></td>
										<td align="center" id="fp2-hdf-file-path"></td>
										<td align="center" id="fp3-hdf-file-path"></td>
										<td align="center" id="fp4-hdf-file-path"></td>
									</tr>
									<tr>
										<td>Writing</td>
										<td align="center" id="fp1-writing"></td>
										<td align="center" id="fp2-writing"></td>
										<td align="center" id="fp3-writing"></td>
										<td align="center" id="fp4-writing"></td>
									</tr>
									<tr>
										<td>Frames Written</td>
										<td align="center" id="fp1-hdf-written"></td>
										<td align="center" id="fp2-hdf-written"></td>
										<td align="center" id="fp3-hdf-written"></td>
										<td align="center" id="fp4-hdf-written"></td>
									</tr>
								</table>
							</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">&nbsp;</div>
						</div>
						<div class="row sidebar-row vertical-align">
							<div class="col-xs-2">DAQ Control:</div>
							<div class="col-xs-5 status vertical-align">
								<table>
									<tr><td width="180px">Frames To Write:</td><td><span><input type="text" id="set-fp-frames"></input></span></td></tr>
									<tr><td width="180px">File Path:</td><td><span><input type="text" id="set-fp-path"></input></span></td></tr>
									<tr><td width="180px">File Name:</td><td><span><input type="text" id="set-fp-filename"></input></span></td></tr>
									<tr><td></td><td><span><button id="fp-start-cmd">Start</button></span><span><button id="fp-stop-cmd">Stop</button></span></td></tr>
								</table>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</div>
  
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="js/jquery-ui.min.js" type="text/javascript"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap-3.3.7-dist/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/tabulator.js" type="text/javascript"></script>
    <script src="js/eiger.js" type="text/javascript"></script>
    <script src="js/odin-data.js" type="text/javascript"></script>

</body>
</html>

